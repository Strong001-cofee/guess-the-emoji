<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Guess the Emoji</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Arial", sans-serif;
        background: linear-gradient(
          135deg,
          #667eea 0%,
          #764ba2 50%,
          #f093fb 100%
        );
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        color: white;
        overflow-x: hidden;
      }

      .container {
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
        flex: 1;
        display: flex;
        flex-direction: column;
      }

      .header {
        text-align: center;
        margin-bottom: 30px;
      }

      .title {
        font-size: 2.5rem;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .stats {
        display: flex;
        justify-content: space-between;
        background: rgba(255, 255, 255, 0.15);
        padding: 15px;
        border-radius: 20px;
        backdrop-filter: blur(15px);
        margin-bottom: 30px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }

      .stat-item {
        text-align: center;
      }

      .stat-label {
        font-size: 0.8rem;
        opacity: 0.8;
      }

      .stat-value {
        font-size: 1.2rem;
        font-weight: bold;
      }

      .game-area {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 25px;
        padding: 40px 20px;
        text-align: center;
        backdrop-filter: blur(20px);
        margin-bottom: 30px;
        min-height: 350px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        transition: all 0.3s ease;
        border: 1px solid rgba(255, 255, 255, 0.3);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
      }

      .emoji-display {
        font-size: 4rem;
        margin-bottom: 20px;
        animation: bounce 2s infinite;
      }

      @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-10px);
        }
        60% {
          transform: translateY(-5px);
        }
      }

      .puzzle-hint {
        font-size: 1.1rem;
        margin-bottom: 20px;
        min-height: 25px;
        opacity: 0.9;
      }

      .input-area {
        margin-bottom: 20px;
      }

      .guess-input {
        width: 100%;
        max-width: 320px;
        padding: 18px;
        font-size: 1.1rem;
        border: none;
        border-radius: 25px;
        text-align: center;
        background: rgba(255, 255, 255, 0.95);
        color: #333;
        margin-bottom: 20px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      .guess-input:focus {
        outline: none;
        box-shadow: 0 0 25px rgba(255, 255, 255, 0.6);
        transform: translateY(-2px);
      }

      .button-group {
        display: flex;
        gap: 10px;
        justify-content: center;
        flex-wrap: wrap;
      }

      .btn {
        padding: 14px 28px;
        font-size: 1rem;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: bold;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .btn-primary {
        background: linear-gradient(135deg, #4caf50, #45a049);
        color: white;
      }

      .btn-primary:hover {
        background: linear-gradient(135deg, #45a049, #3d8b40);
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      }

      .btn-secondary {
        background: linear-gradient(135deg, #ff9800, #f57c00);
        color: white;
      }

      .btn-secondary:hover {
        background: linear-gradient(135deg, #f57c00, #ef6c00);
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      }

      .btn-restart {
        background: linear-gradient(135deg, #f44336, #d32f2f);
        color: white;
      }

      .btn-restart:hover {
        background: linear-gradient(135deg, #d32f2f, #c62828);
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      }

      .feedback {
        margin-top: 20px;
        font-size: 1.2rem;
        font-weight: bold;
        min-height: 30px;
        transition: all 0.3s ease;
      }

      .correct {
        color: #4caf50;
        animation: celebrate 0.6s ease;
      }

      .incorrect {
        color: #f44336;
        animation: shake 0.5s ease;
      }

      @keyframes celebrate {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.2);
        }
        100% {
          transform: scale(1);
        }
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-5px);
        }
        75% {
          transform: translateX(5px);
        }
      }

      .game-complete {
        text-align: center;
        background: rgba(255, 255, 255, 0.15);
        border-radius: 20px;
        padding: 40px 20px;
        backdrop-filter: blur(10px);
      }

      .leaderboard {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 15px;
        padding: 20px;
        margin-top: 20px;
      }

      .leaderboard h3 {
        margin-bottom: 15px;
        text-align: center;
      }

      .leaderboard-entry {
        display: flex;
        justify-content: space-between;
        padding: 8px 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.2);
      }

      .fade-transition {
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .fade-in {
        opacity: 1;
      }

      @media (max-width: 480px) {
        .container {
          padding: 15px;
        }

        .title {
          font-size: 2.2rem;
          margin-bottom: 15px;
        }

        .emoji-display {
          font-size: 3.5rem;
          margin-bottom: 25px;
        }

        .stats {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 15px;
          padding: 20px;
          margin-bottom: 25px;
        }

        .stat-item {
          background: rgba(255, 255, 255, 0.1);
          padding: 12px;
          border-radius: 15px;
          border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .stat-label {
          font-size: 0.85rem;
          margin-bottom: 5px;
        }

        .stat-value {
          font-size: 1.4rem;
          font-weight: bold;
        }

        .game-area {
          padding: 30px 20px;
          margin-bottom: 20px;
          min-height: 320px;
        }

        .puzzle-hint {
          font-size: 1rem;
          margin-bottom: 25px;
          padding: 0 10px;
        }

        .guess-input {
          max-width: 280px;
          padding: 16px;
          font-size: 1.05rem;
          margin-bottom: 25px;
        }

        .button-group {
          flex-direction: column;
          align-items: center;
          gap: 12px;
        }

        .btn {
          width: 220px;
          padding: 16px 20px;
          font-size: 1.05rem;
          border-radius: 20px;
        }

        .feedback {
          font-size: 1.1rem;
          margin-top: 15px;
        }

        .game-complete {
          padding: 30px 20px;
          margin: 0 10px;
        }

        .leaderboard {
          margin-top: 15px;
          padding: 15px;
        }

        .leaderboard-entry {
          font-size: 0.9rem;
          padding: 10px 0;
          flex-wrap: wrap;
          gap: 5px;
        }
      }

      @media (max-width: 320px) {
        .title {
          font-size: 1.8rem;
        }

        .emoji-display {
          font-size: 3rem;
        }

        .btn {
          width: 180px;
          font-size: 0.95rem;
        }

        .guess-input {
          max-width: 240px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1 class="title">üéØ Guess the Emoji</h1>
      </div>

      <div class="stats">
        <div class="stat-item">
          <div class="stat-label">Level</div>
          <div class="stat-value" id="level-display">1</div>
        </div>
        <div class="stat-item">
          <div class="stat-label">Score</div>
          <div class="stat-value" id="score-display">0</div>
        </div>
        <div class="stat-item">
          <div class="stat-label">Time</div>
          <div class="stat-value" id="timer-display">00:00</div>
        </div>
        <div class="stat-item">
          <div class="stat-label">Hints Left</div>
          <div class="stat-value" id="hints-display">1</div>
        </div>
      </div>

      <div class="game-area" id="game-area">
        <div class="emoji-display" id="emoji-display">üêçüíª</div>
        <div class="puzzle-hint" id="puzzle-hint"></div>
        <div class="input-area">
          <input
            type="text"
            class="guess-input"
            id="guess-input"
            placeholder="Type your guess here..."
            autocomplete="off"
          />
        </div>
        <div class="button-group">
          <button class="btn btn-primary" id="submit-btn">Submit Guess</button>
          <button class="btn btn-secondary" id="hint-btn">Get Hint</button>
          <button class="btn btn-restart" id="restart-btn">Restart Game</button>
        </div>
        <div class="feedback" id="feedback"></div>
      </div>

      <div class="game-complete" id="game-complete" style="display: none">
        <h2>üéâ Congratulations!</h2>
        <p id="final-score"></p>
        <div class="leaderboard" id="leaderboard">
          <h3>üèÜ Best Scores</h3>
          <div id="leaderboard-list"></div>
        </div>
        <button
          class="btn btn-primary"
          id="play-again-btn"
          style="margin-top: 20px"
        >
          Play Again
        </button>
      </div>
    </div>

    <script>
      // Game state management
      class EmojiGame {
        constructor() {
          this.allPuzzles = [
            // Tech & Programming
            {
              emojis: "üêçüíª",
              answer: "python",
              hint: "Programming language named after a snake",
            },
            {
              emojis: "üçéüì±",
              answer: "iphone",
              hint: "Fruit company's popular smartphone",
            },
            {
              emojis: "‚òïÔ∏è‚òïÔ∏è",
              answer: "java",
              hint: "Programming language that's also a beverage",
            },
            {
              emojis: "üî•ü¶ä",
              answer: "firefox",
              hint: "Web browser with a fiery mascot",
            },
            {
              emojis: "üåêüíô",
              answer: "facebook",
              hint: "Social media platform with a blue theme",
            },
            {
              emojis: "üê¶üí¨",
              answer: "twitter",
              hint: "Social media platform for short messages",
            },
            { emojis: "üìßüì®", answer: "email", hint: "Electronic mail system" },
            {
              emojis: "üîíüîë",
              answer: "password",
              hint: "Secret code to access accounts",
            },
            {
              emojis: "‚òÅÔ∏èüíæ",
              answer: "cloud storage",
              hint: "Online data storage service",
            },
            {
              emojis: "üñ•Ô∏è‚å®Ô∏è",
              answer: "computer",
              hint: "Electronic device for processing data",
            },

            // Movies & Entertainment
            {
              emojis: "üé¨üçø",
              answer: "movie",
              hint: "What you watch at the cinema",
            },
            {
              emojis: "ü¶Åüëë",
              answer: "lion king",
              hint: "Disney movie about a young lion prince",
            },
            {
              emojis: "üï∑Ô∏èüë®",
              answer: "spiderman",
              hint: "Superhero who swings on webs",
            },
            {
              emojis: "‚ö°üë¶",
              answer: "harry potter",
              hint: "Boy wizard with a lightning scar",
            },
            {
              emojis: "üö¢‚ùÑÔ∏è",
              answer: "titanic",
              hint: "Famous movie about a doomed ship",
            },
            { emojis: "üëªüëª", answer: "ghost", hint: "Supernatural spirit" },
            {
              emojis: "üé≠üé™",
              answer: "circus",
              hint: "Traveling show with acrobats and clowns",
            },
            {
              emojis: "üéµüé§",
              answer: "karaoke",
              hint: "Singing along to recorded music",
            },
            {
              emojis: "üéÆüïπÔ∏è",
              answer: "video game",
              hint: "Interactive electronic entertainment",
            },
            {
              emojis: "üì∫üìª",
              answer: "television",
              hint: "Device for watching shows and news",
            },

            // Food & Drinks
            {
              emojis: "üçïüöó",
              answer: "pizza delivery",
              hint: "Food service that brings Italian food to your door",
            },
            {
              emojis: "üçîüçü",
              answer: "fast food",
              hint: "Quick service restaurant meals",
            },
            {
              emojis: "ü•õüç™",
              answer: "milk and cookies",
              hint: "Classic bedtime snack combination",
            },
            {
              emojis: "üçéü•ß",
              answer: "apple pie",
              hint: "Classic American dessert",
            },
            {
              emojis: "üßÄüçû",
              answer: "grilled cheese",
              hint: "Melted cheese sandwich",
            },
            {
              emojis: "üåÆüå∂Ô∏è",
              answer: "spicy taco",
              hint: "Mexican food with heat",
            },
            {
              emojis: "üçùüçÖ",
              answer: "spaghetti",
              hint: "Italian pasta with tomato sauce",
            },
            { emojis: "ü•§üßä", answer: "cold drink", hint: "Chilled beverage" },
            {
              emojis: "‚òïüåÖ",
              answer: "morning coffee",
              hint: "Wake-up beverage at dawn",
            },
            {
              emojis: "üç∞üéÇ",
              answer: "birthday cake",
              hint: "Sweet treat for celebrations",
            },

            // Nature & Weather
            {
              emojis: "üåô‚≠ê",
              answer: "night",
              hint: "When the moon and stars are visible",
            },
            {
              emojis: "üèñÔ∏èüåû",
              answer: "summer",
              hint: "Hottest season of the year",
            },
            {
              emojis: "‚ùÑÔ∏è‚õÑ",
              answer: "winter",
              hint: "Coldest season with snow",
            },
            {
              emojis: "üåßÔ∏è‚òî",
              answer: "rainy day",
              hint: "Wet weather requiring an umbrella",
            },
            {
              emojis: "üåà‚òÄÔ∏è",
              answer: "sunshine",
              hint: "Bright light from the sun",
            },
            {
              emojis: "üåäüèÑ",
              answer: "surfing",
              hint: "Riding waves on a board",
            },
            {
              emojis: "üèîÔ∏èü•æ",
              answer: "hiking",
              hint: "Walking in the mountains",
            },
            {
              emojis: "üå∏üå∫",
              answer: "flowers",
              hint: "Colorful blooms in gardens",
            },
            {
              emojis: "ü¶ãüå∑",
              answer: "butterfly",
              hint: "Colorful insect that visits flowers",
            },
            {
              emojis: "üåôüåä",
              answer: "night tide",
              hint: "Ocean waves under moonlight",
            },

            // Daily Life & Objects
            { emojis: "üè†üîë", answer: "home", hint: "Where the heart is" },
            {
              emojis: "üöó‚õΩ",
              answer: "gas station",
              hint: "Where you fuel up your car",
            },
            {
              emojis: "üõèÔ∏èüò¥",
              answer: "sleep",
              hint: "Resting at night in bed",
            },
            {
              emojis: "üìöüìñ",
              answer: "reading",
              hint: "Looking at words in books",
            },
            {
              emojis: "‚úàÔ∏èüß≥",
              answer: "travel",
              hint: "Going places with luggage",
            },
            { emojis: "üíçüíí", answer: "wedding", hint: "Marriage ceremony" },
            {
              emojis: "üéìüìú",
              answer: "graduation",
              hint: "Completing school with a diploma",
            },
            {
              emojis: "üí∞üí≥",
              answer: "shopping",
              hint: "Buying things with money",
            },
            {
              emojis: "üè•‚öïÔ∏è",
              answer: "hospital",
              hint: "Medical care facility",
            },
            {
              emojis: "üöåüéí",
              answer: "school bus",
              hint: "Yellow vehicle that takes kids to school",
            },

            // Music & Arts
            { emojis: "üéµüíù", answer: "love song", hint: "Romantic melody" },
            {
              emojis: "üé∏üéµ",
              answer: "guitar music",
              hint: "String instrument melody",
            },
            {
              emojis: "üéπüéº",
              answer: "piano",
              hint: "Black and white key instrument",
            },
            {
              emojis: "üé®üñåÔ∏è",
              answer: "painting",
              hint: "Creating art with brushes and colors",
            },
            {
              emojis: "üì∏üì∑",
              answer: "photography",
              hint: "Taking pictures with a camera",
            },
            {
              emojis: "üíÉüï∫",
              answer: "dancing",
              hint: "Moving to the rhythm of music",
            },
            {
              emojis: "üé™ü§π",
              answer: "juggling",
              hint: "Keeping multiple objects in the air",
            },
            { emojis: "üé≠üé®", answer: "theater", hint: "Live performance art" },
            {
              emojis: "üìù‚úèÔ∏è",
              answer: "writing",
              hint: "Creating text with a pencil",
            },
            {
              emojis: "üé¨üé•",
              answer: "filmmaking",
              hint: "Creating movies with cameras",
            },

            // Sports & Activities
            {
              emojis: "‚öΩü•Ö",
              answer: "soccer",
              hint: "World's most popular sport with goals",
            },
            {
              emojis: "üèÄüèÜ",
              answer: "basketball",
              hint: "Sport with hoops and a trophy",
            },
            {
              emojis: "üéæüèì",
              answer: "tennis",
              hint: "Racket sport on a court",
            },
            {
              emojis: "üèä‚Äç‚ôÇÔ∏èüèä‚Äç‚ôÄÔ∏è",
              answer: "swimming",
              hint: "Moving through water",
            },
            { emojis: "üö¥‚Äç‚ôÇÔ∏èüö¥‚Äç‚ôÄÔ∏è", answer: "cycling", hint: "Riding a bicycle" },
            {
              emojis: "üèÉ‚Äç‚ôÇÔ∏èüí®",
              answer: "running",
              hint: "Fast movement on foot",
            },
            {
              emojis: "üßó‚Äç‚ôÇÔ∏èüèîÔ∏è",
              answer: "rock climbing",
              hint: "Scaling stone walls",
            },
            {
              emojis: "üé£üêü",
              answer: "fishing",
              hint: "Catching fish with a rod",
            },
            {
              emojis: "‚õ≥üèåÔ∏è",
              answer: "golf",
              hint: "Sport with clubs and holes",
            },
            {
              emojis: "ü•äü•ã",
              answer: "boxing",
              hint: "Combat sport with gloves",
            },
          ];

          // Shuffle puzzles and select random subset
          this.puzzles = this.shuffleArray([...this.allPuzzles]).slice(0, 15);

          this.currentLevel = 0;
          this.score = 0;
          this.startTime = Date.now();
          this.hintsUsed = 0;
          this.maxHintsPerPuzzle = 1;
          this.currentHints = this.maxHintsPerPuzzle;

          this.initializeElements();
          this.setupEventListeners();
          this.startTimer();
          this.displayCurrentPuzzle();
        }

        // Shuffle array utility function
        shuffleArray(array) {
          const shuffled = [...array];
          for (let i = shuffled.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
          }
          return shuffled;
        }
        initializeElements() {
          this.gameArea = document.getElementById("game-area");
          this.emojiDisplay = document.getElementById("emoji-display");
          this.puzzleHint = document.getElementById("puzzle-hint");
          this.guessInput = document.getElementById("guess-input");
          this.submitBtn = document.getElementById("submit-btn");
          this.hintBtn = document.getElementById("hint-btn");
          this.restartBtn = document.getElementById("restart-btn");
          this.feedback = document.getElementById("feedback");
          this.levelDisplay = document.getElementById("level-display");
          this.scoreDisplay = document.getElementById("score-display");
          this.timerDisplay = document.getElementById("timer-display");
          this.hintsDisplay = document.getElementById("hints-display");
          this.gameComplete = document.getElementById("game-complete");
          this.finalScore = document.getElementById("final-score");
          this.playAgainBtn = document.getElementById("play-again-btn");
        }

        // Setup event listeners
        setupEventListeners() {
          this.submitBtn.addEventListener("click", () => this.checkAnswer());
          this.hintBtn.addEventListener("click", () => this.showHint());
          this.restartBtn.addEventListener("click", () => this.restartGame());
          this.playAgainBtn.addEventListener("click", () => this.restartGame());

          this.guessInput.addEventListener("keypress", (e) => {
            if (e.key === "Enter") this.checkAnswer();
          });

          this.guessInput.addEventListener("input", () => {
            this.feedback.textContent = "";
            this.feedback.className = "feedback";
          });
        }

        // Display current puzzle
        displayCurrentPuzzle() {
          if (this.currentLevel >= this.puzzles.length) {
            this.completeGame();
            return;
          }

          const puzzle = this.puzzles[this.currentLevel];

          // Fade out and update
          this.gameArea.classList.add("fade-transition");

          setTimeout(() => {
            this.emojiDisplay.textContent = puzzle.emojis;
            this.puzzleHint.textContent = "";
            this.guessInput.value = "";
            this.feedback.textContent = "";
            this.feedback.className = "feedback";
            this.currentHints = this.maxHintsPerPuzzle;

            this.updateDisplay();
            this.gameArea.classList.remove("fade-transition");
            this.gameArea.classList.add("fade-in");

            setTimeout(() => {
              this.gameArea.classList.remove("fade-in");
              this.guessInput.focus();
            }, 300);
          }, 300);
        }

        // Check player's answer
        checkAnswer() {
          const guess = this.guessInput.value.trim().toLowerCase();
          const correctAnswer =
            this.puzzles[this.currentLevel].answer.toLowerCase();

          if (!guess) {
            this.showFeedback("Please enter a guess!", "incorrect");
            return;
          }

          if (guess === correctAnswer) {
            this.score += 10;
            this.showFeedback("‚úÖ Correct!", "correct");

            setTimeout(() => {
              this.currentLevel++;
              this.displayCurrentPuzzle();
            }, 1500);
          } else {
            this.showFeedback("‚ùå Try again!", "incorrect");
            this.guessInput.select();
          }
        }

        // Show hint for current puzzle
        showHint() {
          if (this.currentHints <= 0) {
            this.showFeedback("No hints left for this puzzle!", "incorrect");
            return;
          }

          const puzzle = this.puzzles[this.currentLevel];
          this.puzzleHint.textContent = `üí° Hint: ${puzzle.hint}`;
          this.currentHints--;
          this.hintsUsed++;
          this.score = Math.max(0, this.score - 2);

          this.updateDisplay();
          this.guessInput.focus();
        }

        // Show feedback message
        showFeedback(message, type) {
          this.feedback.textContent = message;
          this.feedback.className = `feedback ${type}`;
        }

        // Update display elements
        updateDisplay() {
          this.levelDisplay.textContent = this.currentLevel + 1;
          this.scoreDisplay.textContent = this.score;
          this.hintsDisplay.textContent = this.currentHints;
        }

        // Start game timer
        startTimer() {
          this.timerInterval = setInterval(() => {
            const elapsed = Math.floor((Date.now() - this.startTime) / 1000);
            const minutes = Math.floor(elapsed / 60)
              .toString()
              .padStart(2, "0");
            const seconds = (elapsed % 60).toString().padStart(2, "0");
            this.timerDisplay.textContent = `${minutes}:${seconds}`;
          }, 1000);
        }

        // Complete the game
        completeGame() {
          clearInterval(this.timerInterval);
          const finalTime = Math.floor((Date.now() - this.startTime) / 1000);

          this.gameArea.style.display = "none";
          this.gameComplete.style.display = "block";

          this.finalScore.innerHTML = `
                    <p style="font-size: 1.5rem; margin-bottom: 15px;">Game Complete!</p>
                    <p>Final Score: <strong>${this.score}</strong></p>
                    <p>Time: <strong>${Math.floor(finalTime / 60)}:${(
            finalTime % 60
          )
            .toString()
            .padStart(2, "0")}</strong></p>
                    <p>Hints Used: <strong>${this.hintsUsed}</strong></p>
                `;

          this.saveScore(this.score, finalTime, this.hintsUsed);
          this.displayLeaderboard();
        }

        // Save score to memory (using variables instead of localStorage)
        saveScore(score, time, hints) {
          if (!window.gameScores) {
            window.gameScores = [];
          }

          const newScore = {
            score: score,
            time: time,
            hints: hints,
            date: new Date().toLocaleDateString(),
          };

          window.gameScores.push(newScore);
          window.gameScores.sort((a, b) => {
            // Sort by score (descending), then by time (ascending), then by hints (ascending)
            if (b.score !== a.score) return b.score - a.score;
            if (a.time !== b.time) return a.time - b.time;
            return a.hints - b.hints;
          });

          // Keep only top 5 scores
          window.gameScores = window.gameScores.slice(0, 5);
        }

        // Display leaderboard
        displayLeaderboard() {
          const leaderboardList = document.getElementById("leaderboard-list");

          if (!window.gameScores || window.gameScores.length === 0) {
            leaderboardList.innerHTML =
              '<p style="text-align: center; opacity: 0.7;">No scores yet!</p>';
            return;
          }

          leaderboardList.innerHTML = window.gameScores
            .map((score, index) => {
              const timeStr = `${Math.floor(score.time / 60)}:${(
                score.time % 60
              )
                .toString()
                .padStart(2, "0")}`;
              return `
                        <div class="leaderboard-entry">
                            <span>#${index + 1}</span>
                            <span>Score: ${score.score}</span>
                            <span>Time: ${timeStr}</span>
                            <span>Hints: ${score.hints}</span>
                        </div>
                    `;
            })
            .join("");
        }

        // Restart the game
        restartGame() {
          clearInterval(this.timerInterval);

          // Shuffle puzzles again for new game
          this.puzzles = this.shuffleArray([...this.allPuzzles]).slice(0, 15);

          this.currentLevel = 0;
          this.score = 0;
          this.startTime = Date.now();
          this.hintsUsed = 0;
          this.currentHints = this.maxHintsPerPuzzle;

          this.gameArea.style.display = "flex";
          this.gameComplete.style.display = "none";

          this.startTimer();
          this.displayCurrentPuzzle();
        }
      }

      // Initialize game when page loads
      document.addEventListener("DOMContentLoaded", () => {
        new EmojiGame();
      });
    </script>
  </body>
</html>
